---
title: "Astro ë¸”ë¡œê·¸ì— Pagefind ê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°"
description: "ì •ì  ì‚¬ì´íŠ¸ì— ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•"
date: 2025-08-22
tags: ["astro", "search", "pagefind", "tutorial"]
draft: false
featured: true
author: "Admin"
tableOfContents: true
---

## Pagefindë€?

**Pagefind**ëŠ” ì •ì  ì‚¬ì´íŠ¸ë¥¼ ìœ„í•œ ì™„ì „íˆ ì •ì ì¸ ê²€ìƒ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. 
ë¹Œë“œ ì‹œì ì— ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì—ì„œ WebAssemblyë¥¼ í†µí•´ ê²€ìƒ‰ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- ğŸš€ **ë¹ ë¥¸ ê²€ìƒ‰**: WebAssembly ê¸°ë°˜ìœ¼ë¡œ ë§¤ìš° ë¹ ë¥¸ ê²€ìƒ‰ ì†ë„
- ğŸ“¦ **ì‘ì€ ë²ˆë“¤ í¬ê¸°**: ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì²­í¬ë¡œ ë¶„í• í•˜ì—¬ í•„ìš”í•œ ë¶€ë¶„ë§Œ ë¡œë“œ
- ğŸ”§ **ì‰¬ìš´ ì„¤ì •**: ë³„ë„ì˜ ì„œë²„ë‚˜ API ì—†ì´ ì •ì  íŒŒì¼ë§Œìœ¼ë¡œ ë™ì‘
- ğŸŒ **ë‹¤êµ­ì–´ ì§€ì›**: í•œêµ­ì–´ë¥¼ í¬í•¨í•œ ì—¬ëŸ¬ ì–¸ì–´ ì§€ì›

## ì„¤ì¹˜ ë° ì„¤ì •

### 1. Pagefind ì„¤ì¹˜

```bash
npm install --save-dev pagefind
```

### 2. ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •

`package.json`ì— ë¹Œë“œ í›„ Pagefind ì¸ë±ì‹± ì¶”ê°€:

```json
{
  "scripts": {
    "build": "astro build",
    "postbuild": "pagefind --source dist"
  }
}
```

### 3. Pagefind ì„¤ì • íŒŒì¼

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `pagefind.yml` ìƒì„±:

```yaml
source: dist
bundle_dir: pagefind
exclude_selectors:
  - "[data-pagefind-ignore]"
  - "nav"
  - "footer"
  - "script"
  - "style"
```

## ê²€ìƒ‰ UI êµ¬í˜„

### ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ ìƒì„±

```astro
---
// src/components/Search.astro
---

<div id="search-container">
  <input
    type="text"
    id="search-input"
    placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
    class="search-input"
  />
  <div id="search-results" class="search-results hidden"></div>
</div>

<script>
  // Pagefind UI ì´ˆê¸°í™”
  async function initSearch() {
    if (typeof window.pagefind === 'undefined') {
      try {
        window.pagefind = await import('/pagefind/pagefind.js');
      } catch (e) {
        console.error('Pagefindë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', e);
        return;
      }
    }

    const searchInput = document.getElementById('search-input');
    const searchResults = document.getElementById('search-results');

    searchInput?.addEventListener('input', async (e) => {
      const query = (e.target as HTMLInputElement).value;
      
      if (query.length < 2) {
        searchResults.classList.add('hidden');
        return;
      }

      const search = await window.pagefind.search(query);
      const results = await Promise.all(
        search.results.slice(0, 5).map(r => r.data())
      );

      displayResults(results);
    });
  }

  function displayResults(results) {
    const searchResults = document.getElementById('search-results');
    
    if (results.length === 0) {
      searchResults.innerHTML = '<p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
    } else {
      searchResults.innerHTML = results.map(result => `
        <a href="${result.url}" class="search-result">
          <h3>${result.meta.title}</h3>
          <p>${result.excerpt}</p>
        </a>
      `).join('');
    }
    
    searchResults.classList.remove('hidden');
  }

  // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
  document.addEventListener('DOMContentLoaded', initSearch);
</script>

<style>
  .search-input {
    width: 100%;
    padding: 0.5rem 1rem;
    border: 1px solid var(--border);
    border-radius: 0.5rem;
    background: var(--background);
    color: var(--foreground);
  }

  .search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--background);
    border: 1px solid var(--border);
    border-radius: 0.5rem;
    margin-top: 0.5rem;
    max-height: 400px;
    overflow-y: auto;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  }

  .search-result {
    display: block;
    padding: 1rem;
    border-bottom: 1px solid var(--border);
    text-decoration: none;
    color: var(--foreground);
    transition: background 0.2s;
  }

  .search-result:hover {
    background: var(--accent);
  }

  .hidden {
    display: none;
  }
</style>
```

## ê³ ê¸‰ ì„¤ì •

### ê²€ìƒ‰ ëŒ€ìƒ ì§€ì •

íŠ¹ì • ìš”ì†Œë§Œ ê²€ìƒ‰ ëŒ€ìƒìœ¼ë¡œ ì§€ì •:

```html
<article data-pagefind-body>
  <!-- ì´ ë‚´ìš©ë§Œ ê²€ìƒ‰ë¨ -->
</article>

<aside data-pagefind-ignore>
  <!-- ì´ ë‚´ìš©ì€ ê²€ìƒ‰ì—ì„œ ì œì™¸ -->
</aside>
```

### ë©”íƒ€ë°ì´í„° ì¶”ê°€

ê²€ìƒ‰ ê²°ê³¼ì— ì¶”ê°€ ì •ë³´ í¬í•¨:

```html
<article
  data-pagefind-body
  data-pagefind-meta="author:í™ê¸¸ë™, category:Tutorial"
>
  <!-- ì½˜í…ì¸  -->
</article>
```

### í•œêµ­ì–´ ê²€ìƒ‰ ìµœì í™”

```javascript
// í•œêµ­ì–´ í˜•íƒœì†Œ ë¶„ì„ì„ ìœ„í•œ ì„¤ì •
await window.pagefind.init({
  language: 'ko',
  // ì¶”ê°€ ì˜µì…˜
});
```

## ì„±ëŠ¥ ìµœì í™”

### 1. ê²€ìƒ‰ ë””ë°”ìš´ì‹±

```javascript
let searchTimeout;

searchInput?.addEventListener('input', (e) => {
  clearTimeout(searchTimeout);
  searchTimeout = setTimeout(async () => {
    const query = (e.target as HTMLInputElement).value;
    // ê²€ìƒ‰ ìˆ˜í–‰
  }, 300);
});
```

### 2. ê²€ìƒ‰ ê²°ê³¼ ìºì‹±

```javascript
const searchCache = new Map();

async function search(query) {
  if (searchCache.has(query)) {
    return searchCache.get(query);
  }
  
  const results = await window.pagefind.search(query);
  searchCache.set(query, results);
  return results;
}
```

## ìŠ¤íƒ€ì¼ë§ ì˜ˆì‹œ

ëª¨ë˜í•œ ê²€ìƒ‰ UI ìŠ¤íƒ€ì¼:

```css
.search-container {
  position: relative;
  max-width: 600px;
  margin: 0 auto;
}

.search-input {
  width: 100%;
  padding: 12px 20px;
  font-size: 16px;
  border: 2px solid transparent;
  border-radius: 12px;
  background: var(--card);
  transition: all 0.3s;
}

.search-input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.1);
}

.search-results {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  background: var(--card);
  border-radius: 12px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  max-height: 400px;
  overflow-y: auto;
}
```

## ë¬¸ì œ í•´ê²°

### ê²€ìƒ‰ì´ ì‘ë™í•˜ì§€ ì•Šì„ ë•Œ

1. ë¹Œë“œ í›„ `dist/pagefind` ë””ë ‰í„°ë¦¬ í™•ì¸
2. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
3. ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ pagefind íŒŒì¼ ë¡œë“œ í™•ì¸

### ê²€ìƒ‰ ê²°ê³¼ê°€ ë¶€ì •í™•í•  ë•Œ

1. `data-pagefind-body` ì†ì„± ìœ„ì¹˜ í™•ì¸
2. ë¶ˆí•„ìš”í•œ ì½˜í…ì¸  `data-pagefind-ignore`ë¡œ ì œì™¸
3. ì–¸ì–´ ì„¤ì • í™•ì¸

## ë§ˆë¬´ë¦¬

Pagefindë¥¼ ì‚¬ìš©í•˜ë©´ ì •ì  ì‚¬ì´íŠ¸ì—ë„ ê°•ë ¥í•œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì„œë²„ ì—†ì´ë„ ë¹ ë¥´ê³  ì •í™•í•œ ê²€ìƒ‰ì„ ì œê³µí•  ìˆ˜ ìˆì–´, Astro ê°™ì€ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°ì™€ ì™„ë²½í•˜ê²Œ ì–´ìš¸ë¦½ë‹ˆë‹¤.

ë” ìì„¸í•œ ì •ë³´ëŠ” [Pagefind ê³µì‹ ë¬¸ì„œ](https://pagefind.app)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”!